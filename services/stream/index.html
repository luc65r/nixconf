<html>
  <head>
    <link href="https://vjs.zencdn.net/7.17.0/video-js.css" rel="stylesheet"/>
    <title>Live</title>
  </head>
  <body>
    <script src="https://vjs.zencdn.net/7.17.0/video.min.js"></script>
    <div>
      <video-js id="live-video" width="100%" height="auto" controls
                <!-- poster="LINK TO PLAYER BACKGROUND" --> class="vjs-default-skin vjs-16-9"
                rel="preload" preload="auto" crossorigin="anonymous">
        <p class="vjs-no-js">
          To view this video please enable JavaScript, and/or consider upgrading to a
          web browser that
          <a href="https://videojs.com/html5-video-support/" target="_blank">
            supports AV1 video and Opus audio
          </a>
        </p>
      </video-js>
    </div>
    <script>
      var player = videojs('live-video', {
          "liveui": true,
          "responsive": true,
      });
      player.ready(function() {
          player.src({ /* Silences a warning about how the mime type is unsupported with DASH */
              src: document.getElementById("stream_url").href,
              type: document.getElementById("stream_url").type,
          });
          player.on("error", function() {
              error = player.error();
              if (error.code == 4) {
                  document.querySelector(".vjs-modal-dialog-content").textContent =
                      "The stream is offline right now, come back later and refresh.";
              } else {
                  document.querySelector(".vjs-modal-dialog-content").textContent =
                      "Error: " + error.message;
              }
          });
          player.on("ended", function() {
              document.querySelector(".vjs-modal-dialog-content").textContent =
                  "The stream is over.";
          });
      })
    </script>
    <a id="stream_url"
       href="live"
       type="application/dash+xml">
      Direct link to stream.
    </a>
  </body>
</html>
